(this.webpackJsonpdiary=this.webpackJsonpdiary||[]).push([[0],{36:function(t,e,n){},38:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},47:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(15),s=n.n(r),o=n(17),i=n(14),u=n(12),d=n(3),l=(n(36),function(){return Object(o.b)()}),j=o.c,b=function(t){return t.note},f=n(6),h=n(4),p=n.n(h),O=n(5),x="https://localhost:6969/api",m=Object(f.b)("notes/deleteNote",function(){var t=Object(O.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return t.next=4,fetch("".concat(x,"/notes/").concat(e),{method:"DELETE"});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(n.statusText);case 7:return t.abrupt("return",n.status);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),g=m,w=864e5,v=(new Date).setUTCHours(0,0,0,0),N=function(t){return function(t){return Math.abs(t.getTime()-v)===w}(t)||function(t){return t.getTime()===v}(t)},k=Object(f.b)("notes/getNote",function(){var t=Object(O.a)(p.a.mark((function t(e){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=4;break;case 3:throw new Error("Mock write");case 4:return t.next=6,fetch("".concat(x,"/notes/").concat(e));case 6:if((n=t.sent).ok){t.next=9;break}throw new Error(n.statusText);case 9:return t.next=11,n.json();case 11:return a=t.sent,t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),y=k,C=Object(f.b)("notes/postNote",function(){var t=Object(O.a)(p.a.mark((function t(e){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return n="".concat(x,"/notes/"),t.next=5,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.next=10,a.json();case 10:return c=t.sent,t.abrupt("return",c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D=C,S=Object(f.b)("notes/putNote",function(){var t=Object(O.a)(p.a.mark((function t(e){var n,a,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return n="".concat(x,"/notes/").concat(e.initialDate),t.next=5,fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({heading:e.heading,content:e.content,modificationDate:e.modificationDate})});case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.next=10,a.json();case 10:return c=t.sent,t.abrupt("return",c);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),T=S,B={heading:void 0,content:void 0,initialDate:void 0,modificationDate:void 0,status:"write"},E=Object(f.c)({name:"note",initialState:B,reducers:{setNote:function(t,e){e.payload},setStatus:function(t,e){t.status=e.payload}},extraReducers:function(t){t.addCase(y.rejected,(function(t){t.status="write"})),t.addCase(D.fulfilled,(function(){i.b.success("Note was saved!")})).addCase(T.fulfilled,(function(){i.b.success("Note was updated!")})).addCase(g.fulfilled,(function(t){t.status="write",i.b.success("Note was deleted!")})),t.addMatcher(Object(f.d)(y.pending,D.pending,T.pending,g.pending),(function(t){t.status="loading"})),t.addMatcher(Object(f.d)(y.fulfilled,D.fulfilled,T.fulfilled),(function(t,e){var n=e.payload,a=n.heading,c=n.content;t.heading=a,t.content=c,t.status="show"})),t.addMatcher(Object(f.d)(D.rejected,T.rejected,g.rejected),(function(t,e){i.b.error(e.error.message)}))}}),L=E.actions,M=(L.setNote,L.setStatus),F=E.reducer,J=n(19),W=n.n(J),H=(n(38),n(2)),P=function(t){var e=t.children,n=t.className;return Object(H.jsx)("div",{className:W()("container",n),children:e})},q=(n(40),function(){return Object(H.jsx)("div",{className:"loader",children:"Loading..."})}),A=(n(41),function(){return Object(H.jsx)("div",{className:"footer",children:Object(H.jsxs)(P,{className:"flex justify-between align-center",children:[Object(H.jsx)("p",{children:"\xa9 Web Application Programming, 2021-2022"}),Object(H.jsx)("p",{children:"Bohdan Soproniuk & Akmalkhon Mukhiddinov"})]})})}),U=n.p+"static/media/LargeLogo.e6a559ef.png",V=(n(42),function(){return Object(H.jsx)("div",{className:"header",children:Object(H.jsxs)(P,{className:"flex justify-between align-center",children:[Object(H.jsx)(u.b,{to:"/",children:Object(H.jsx)("img",{src:U,alt:"Logo",className:"logo"})}),Object(H.jsx)("input",{type:"button",className:"redButton logoutButton",value:"Log out"})]})})}),_=(n(43),function(t){var e=t.children,n=t.className;return Object(H.jsxs)("section",{className:"page",children:[Object(H.jsx)(V,{}),Object(H.jsx)("main",{className:W()("page__content",n),children:e}),Object(H.jsx)(A,{})]})}),I=(n(44),function(t){var e=t.note,n=l(),a=e.heading,c=e.content,r=Object(d.g)().date,s=new Date(r),o=N(s);return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsxs)("div",{className:"showNote",children:[Object(H.jsx)("h1",{className:"showHeading",children:a}),Object(H.jsx)("hr",{className:"headingContentLine"}),Object(H.jsx)("p",{className:"showContent",children:c})]}),Object(H.jsxs)("div",{className:"showContentControlButtons",children:[o&&Object(H.jsx)("input",{type:"button",className:"secondaryButton editButton",value:"Edit",onClick:function(){return n(M("update"))}}),Object(H.jsx)("input",{type:"button",className:"redButton deleteButton",value:"Delete",onClick:function(){n(g(r))}})]})]})}),R=n(13),Y=n(25),$=n(26),z=(n(45),function(t){var e=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),a=t.getDate().toString();return n.length<2&&(n="0".concat(n)),a.length<2&&(a="0".concat(a)),"".concat(e,"-").concat(n,"-").concat(a)}),G=function(t){var e=t.note,n=l(),a=Object(Y.a)(),c=a.register,r=a.handleSubmit,s=Object(d.g)().date,o=e.heading,i=e.content,u=e.status;return Object(H.jsxs)("form",{onSubmit:r((function(t){t.initialDate=s,"write"===u?n(D(t)):"update"===u&&(t.modificationDate=z(new Date),n(T(t)))})),className:"noteForm",children:[Object(H.jsx)("input",Object(R.a)(Object(R.a)({},c("heading",{required:!0})),{},{className:"writeHeading inputField",placeholder:"Title",defaultValue:o})),Object(H.jsx)($.a,Object(R.a)(Object(R.a)({},c("content",{required:!0})),{},{className:"writeContent inputField",placeholder:"Write your note...",defaultValue:i})),Object(H.jsx)("input",{type:"submit",className:"primaryButton saveButton",value:"Save"})]})},K=function(){var t=l(),e=j(b),n=Object(d.g)().date;return Object(a.useLayoutEffect)((function(){t(y(n))}),[t,n]),Object(H.jsx)(_,{children:Object(H.jsxs)(P,{children:["loading"===e.status&&Object(H.jsx)(q,{}),"show"===e.status&&Object(H.jsx)(I,{note:e}),"write"===e.status&&Object(H.jsx)(G,{note:B}),"update"===e.status&&Object(H.jsx)(G,{note:e})]})})},Q=n(24),X=(n(46),n(47),function(){var t=Object(d.f)();return Object(H.jsx)(_,{children:Object(H.jsx)(P,{children:Object(H.jsx)(Q.a,{className:"calendar",onClickDay:function(e){var n="/note/".concat(z(e));t(n)}})})})}),Z=function(){return Object(H.jsx)(u.a,{children:Object(H.jsxs)(d.c,{children:[Object(H.jsx)(d.a,{path:"/",element:Object(H.jsx)(X,{})}),Object(H.jsx)(d.a,{path:"/note/:date",element:Object(H.jsx)(K,{})})]})})},tt=Object(f.a)({reducer:{note:F}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48),n(49),n(50),n(51),n(52),n(53);s.a.render(Object(H.jsx)(c.a.StrictMode,{children:Object(H.jsxs)(o.a,{store:tt,children:[Object(H.jsx)(i.a,{className:"toast"}),Object(H.jsx)(Z,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.b23cc107.chunk.js.map