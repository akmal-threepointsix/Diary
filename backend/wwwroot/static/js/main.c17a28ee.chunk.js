(this.webpackJsonpdiary=this.webpackJsonpdiary||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),s=n(17),i=n(9),u=n(13),d=n(3),l=(n(36),function(){return Object(s.b)()}),j=s.c,b=function(e){return e.note},f=n(7),h=n(4),p=n.n(h),x=n(5),O="https://localhost:6969/api",m={pending:"Deleting note...",success:"Note was deleted!",error:"Error: note was not deleted!"},g=Object(f.b)("notes/deleteNote",function(){var e=Object(x.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return n=fetch("".concat(O,"/notes/").concat(t),{method:"DELETE"}),e.next=5,i.b.promise(n,m);case 5:if((a=e.sent).ok){e.next=8;break}throw new Error(a.statusText);case 8:return e.abrupt("return",a.status);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=g,v=864e5,N=(new Date).setUTCHours(0,0,0,0),k=function(e){return function(e){return Math.abs(e.getTime()-N)===v}(e)||function(e){return e.getTime()===N}(e)},y=Object(f.b)("notes/getNote",function(){var e=Object(x.a)(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:return e.abrupt("return",Promise.reject(new Error("Mock write")));case 4:return e.next=6,fetch("".concat(O,"/notes/").concat(t));case 6:if((n=e.sent).ok){e.next=9;break}throw new Error(n.statusText);case 9:return e.next=11,n.json();case 11:return a=e.sent,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),D=y,S={pending:"Saving note...",success:"Note was saved!",error:"Error: note was not saved!"},C=Object(f.b)("notes/postNote",function(){var e=Object(x.a)(p.a.mark((function e(t){var n,a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return n="".concat(O,"/notes/"),a=fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),e.next=6,i.b.promise(a,S);case 6:if((c=e.sent).ok){e.next=9;break}throw new Error(c.statusText);case 9:return e.next=11,c.json();case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),E=C,T={pending:"Updating note...",success:"Note was updated!",error:"Error: note was not updated!"},B=Object(f.b)("notes/putNote",function(){var e=Object(x.a)(p.a.mark((function e(t){var n,a,c,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return n="".concat(O,"/notes/").concat(t.creationDate),a=fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.heading,note:t.content,modificationDate:t.modificationDate})}),e.next=6,i.b.promise(a,T);case 6:if((c=e.sent).ok){e.next=9;break}throw new Error(c.statusText);case 9:return e.next=11,c.json();case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=B,M={heading:void 0,content:void 0,creationDate:void 0,modificationDate:void 0,status:"write"},F=Object(f.c)({name:"note",initialState:M,reducers:{setNote:function(e,t){t.payload},setStatus:function(e,t){e.status=t.payload}},extraReducers:function(e){e.addCase(D.pending,(function(e){e.status="loading"})).addCase(D.rejected,(function(e){e.status="write"})),e.addCase(w.fulfilled,(function(e){e.status="write"})),e.addMatcher(Object(f.d)(D.fulfilled,E.fulfilled,L.fulfilled),(function(e,t){var n=t.payload,a=n.heading,c=n.content;e.heading=a,e.content=c,e.status="show"}))}}),J=F.actions,P=(J.setNote,J.setStatus),W=F.reducer,H=n(19),U=n.n(H),q=(n(38),n(2)),A=function(e){var t=e.children,n=e.className;return Object(q.jsx)("div",{className:U()("container",n),children:t})},V=(n(40),function(){return Object(q.jsx)("div",{className:"loader",children:"Loading..."})}),_=(n(41),function(){return Object(q.jsx)("div",{className:"footer",children:Object(q.jsxs)(A,{className:"flex justify-between align-center",children:[Object(q.jsx)("p",{children:"\xa9 Web Application Programming, 2021-2022"}),Object(q.jsx)("p",{children:"Bohdan Soproniuk & Akmalkhon Mukhiddinov"})]})})}),I=n.p+"static/media/LargeLogo.e6a559ef.png",R=(n(42),function(){return Object(q.jsx)("div",{className:"header",children:Object(q.jsxs)(A,{className:"flex justify-between align-center",children:[Object(q.jsx)(u.b,{to:"/",children:Object(q.jsx)("img",{src:I,alt:"Logo",className:"logo"})}),Object(q.jsx)("input",{type:"button",className:"redButton logoutButton",value:"Log out"})]})})}),Y=(n(43),function(e){var t=e.children,n=e.className;return Object(q.jsxs)("section",{className:"page",children:[Object(q.jsx)(R,{}),Object(q.jsx)("main",{className:U()("page__content",n),children:t}),Object(q.jsx)(_,{})]})}),$=(n(44),function(e){var t=e.note,n=l(),a=t.heading,c=t.content,r=Object(d.g)().date,o=new Date(r),s=k(o);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"showNote",children:[Object(q.jsx)("h1",{className:"showHeading",children:a}),Object(q.jsx)("hr",{className:"headingContentLine"}),Object(q.jsx)("p",{className:"showContent",children:c})]}),Object(q.jsxs)("div",{className:"showContentControlButtons",children:[s&&Object(q.jsx)("input",{type:"button",className:"secondaryButton editButton",value:"Edit",onClick:function(){return n(P("update"))}}),Object(q.jsx)("input",{type:"button",className:"redButton deleteButton",value:"Delete",onClick:function(){n(w(r))}})]})]})}),z=n(14),G=n(25),K=n(26),Q=(n(45),function(e){return"".concat(e.getFullYear().toString(),"-").concat((e.getMonth()+1).toString(),"-").concat(e.getDate().toString())}),X=function(e){var t=e.note,n=l(),a=Object(G.a)(),c=a.register,r=a.handleSubmit,o=Object(d.g)().date,s=t.heading,i=t.content,u=t.status;return Object(q.jsxs)("form",{onSubmit:r((function(e){e.creationDate=o,"write"===u?n(E(e)):"update"===u&&(e.modificationDate=Q(new Date),n(L(e)))})),className:"noteForm",children:[Object(q.jsx)("input",Object(z.a)(Object(z.a)({},c("heading",{required:!0})),{},{className:"writeHeading inputField",placeholder:"Title",defaultValue:s})),Object(q.jsx)(K.a,Object(z.a)(Object(z.a)({},c("content",{required:!0})),{},{className:"writeContent inputField",placeholder:"Write your note...",defaultValue:i})),Object(q.jsx)("input",{type:"submit",className:"primaryButton saveButton",value:"Save"})]})},Z=function(){var e=l(),t=j(b),n=Object(d.g)().date;return Object(a.useLayoutEffect)((function(){e(D(n))}),[e,n]),Object(q.jsx)(Y,{children:Object(q.jsxs)(A,{children:["loading"===t.status&&Object(q.jsx)(V,{}),"show"===t.status&&Object(q.jsx)($,{note:t}),"write"===t.status&&Object(q.jsx)(X,{note:M}),"update"===t.status&&Object(q.jsx)(X,{note:t})]})})},ee=n(24),te=(n(46),n(47),function(){var e=Object(d.f)();return Object(q.jsx)(Y,{children:Object(q.jsx)(A,{children:Object(q.jsx)(ee.a,{className:"calendar",onClickDay:function(t){var n="/note/".concat(Q(t));e(n)}})})})}),ne=function(){return Object(q.jsx)(u.a,{children:Object(q.jsxs)(d.c,{children:[Object(q.jsx)(d.a,{path:"/",element:Object(q.jsx)(te,{})}),Object(q.jsx)(d.a,{path:"/note/:date",element:Object(q.jsx)(Z,{})})]})})},ae=Object(f.a)({reducer:{note:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48),n(49),n(50),n(51),n(52),n(53);o.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsxs)(s.a,{store:ae,children:[Object(q.jsx)(i.a,{className:"toast"}),Object(q.jsx)(ne,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.c17a28ee.chunk.js.map