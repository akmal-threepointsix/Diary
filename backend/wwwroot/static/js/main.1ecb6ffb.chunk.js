(this.webpackJsonpdiary=this.webpackJsonpdiary||[]).push([[0],{36:function(t,e,n){},38:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},47:function(t,e,n){},49:function(t,e,n){},50:function(t,e,n){},51:function(t,e,n){},52:function(t,e,n){},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(15),o=n.n(r),s=n(17),i=n(9),u=n(13),d=n(3),l=(n(36),function(){return Object(s.b)()}),j=s.c,b=function(t){return t.note},f=n(7),h=n(4),p=n.n(h),x=n(5),O="https://localhost:6969/api",m={pending:"Deleting note...",success:"Note was deleted!",error:"Error: note was not deleted!"},g=Object(f.b)("notes/deleteNote",function(){var t=Object(x.a)(p.a.mark((function t(e){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return n=fetch("".concat(O,"/notes/").concat(e),{method:"DELETE"}),t.next=5,i.b.promise(n,m);case 5:if((a=t.sent).ok){t.next=8;break}throw new Error(a.statusText);case 8:return t.abrupt("return",a.status);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),w=g,v=864e5,N=(new Date).setUTCHours(0,0,0,0),k=function(t){return function(t){return Math.abs(t.getTime()-N)===v}(t)||function(t){return t.getTime()===N}(t)},y=Object(f.b)("notes/getNote",function(){var t=Object(x.a)(p.a.mark((function t(e){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=4;break;case 3:return t.abrupt("return",Promise.reject(new Error("Mock write")));case 4:return t.next=6,fetch("".concat(O,"/notes/").concat(e));case 6:if((n=t.sent).ok){t.next=9;break}throw new Error(n.statusText);case 9:return t.next=11,n.json();case 11:return a=t.sent,t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),D=y,S={pending:"Saving note...",success:"Note was saved!",error:"Error: note was not saved!"},C=Object(f.b)("notes/postNote",function(){var t=Object(x.a)(p.a.mark((function t(e){var n,a,c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return n="".concat(O,"/notes/"),a=fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t.next=6,i.b.promise(a,S);case 6:if((c=t.sent).ok){t.next=9;break}throw new Error(c.statusText);case 9:return t.next=11,c.json();case 11:return r=t.sent,t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E=C,T={pending:"Updating note...",success:"Note was updated!",error:"Error: note was not updated!"},B=Object(f.b)("notes/putNote",function(){var t=Object(x.a)(p.a.mark((function t(e){var n,a,c,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:return n="".concat(O,"/notes/").concat(e.initialDate),a=fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({heading:e.heading,content:e.content,modificationDate:e.modificationDate})}),t.next=6,i.b.promise(a,T);case 6:if((c=t.sent).ok){t.next=9;break}throw new Error(c.statusText);case 9:return t.next=11,c.json();case 11:return r=t.sent,t.abrupt("return",r);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),L=B,M={heading:void 0,content:void 0,initialDate:void 0,modificationDate:void 0,status:"write"},F=Object(f.c)({name:"note",initialState:M,reducers:{setNote:function(t,e){e.payload},setStatus:function(t,e){t.status=e.payload}},extraReducers:function(t){t.addCase(D.pending,(function(t){t.status="loading"})).addCase(D.rejected,(function(t){t.status="write"})),t.addCase(w.fulfilled,(function(t){t.status="write"})),t.addMatcher(Object(f.d)(D.fulfilled,E.fulfilled,L.fulfilled),(function(t,e){var n=e.payload,a=n.heading,c=n.content;t.heading=a,t.content=c,t.status="show"}))}}),J=F.actions,P=(J.setNote,J.setStatus),W=F.reducer,H=n(19),U=n.n(H),q=(n(38),n(2)),A=function(t){var e=t.children,n=t.className;return Object(q.jsx)("div",{className:U()("container",n),children:e})},V=(n(40),function(){return Object(q.jsx)("div",{className:"loader",children:"Loading..."})}),_=(n(41),function(){return Object(q.jsx)("div",{className:"footer",children:Object(q.jsxs)(A,{className:"flex justify-between align-center",children:[Object(q.jsx)("p",{children:"\xa9 Web Application Programming, 2021-2022"}),Object(q.jsx)("p",{children:"Bohdan Soproniuk & Akmalkhon Mukhiddinov"})]})})}),I=n.p+"static/media/LargeLogo.e6a559ef.png",R=(n(42),function(){return Object(q.jsx)("div",{className:"header",children:Object(q.jsxs)(A,{className:"flex justify-between align-center",children:[Object(q.jsx)(u.b,{to:"/",children:Object(q.jsx)("img",{src:I,alt:"Logo",className:"logo"})}),Object(q.jsx)("input",{type:"button",className:"redButton logoutButton",value:"Log out"})]})})}),Y=(n(43),function(t){var e=t.children,n=t.className;return Object(q.jsxs)("section",{className:"page",children:[Object(q.jsx)(R,{}),Object(q.jsx)("main",{className:U()("page__content",n),children:e}),Object(q.jsx)(_,{})]})}),$=(n(44),function(t){var e=t.note,n=l(),a=e.heading,c=e.content,r=Object(d.g)().date,o=new Date(r),s=k(o);return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:"showNote",children:[Object(q.jsx)("h1",{className:"showHeading",children:a}),Object(q.jsx)("hr",{className:"headingContentLine"}),Object(q.jsx)("p",{className:"showContent",children:c})]}),Object(q.jsxs)("div",{className:"showContentControlButtons",children:[s&&Object(q.jsx)("input",{type:"button",className:"secondaryButton editButton",value:"Edit",onClick:function(){return n(P("update"))}}),Object(q.jsx)("input",{type:"button",className:"redButton deleteButton",value:"Delete",onClick:function(){n(w(r))}})]})]})}),z=n(14),G=n(25),K=n(26),Q=(n(45),function(t){return"".concat(t.getFullYear().toString(),"-").concat((t.getMonth()+1).toString(),"-").concat(t.getDate().toString())}),X=function(t){var e=t.note,n=l(),a=Object(G.a)(),c=a.register,r=a.handleSubmit,o=Object(d.g)().date,s=e.heading,i=e.content,u=e.status;return Object(q.jsxs)("form",{onSubmit:r((function(t){t.initialDate=o,"write"===u?n(E(t)):"update"===u&&(t.modificationDate=Q(new Date),n(L(t)))})),className:"noteForm",children:[Object(q.jsx)("input",Object(z.a)(Object(z.a)({},c("heading",{required:!0})),{},{className:"writeHeading inputField",placeholder:"Title",defaultValue:s})),Object(q.jsx)(K.a,Object(z.a)(Object(z.a)({},c("content",{required:!0})),{},{className:"writeContent inputField",placeholder:"Write your note...",defaultValue:i})),Object(q.jsx)("input",{type:"submit",className:"primaryButton saveButton",value:"Save"})]})},Z=function(){var t=l(),e=j(b),n=Object(d.g)().date;return Object(a.useLayoutEffect)((function(){t(D(n))}),[t,n]),Object(q.jsx)(Y,{children:Object(q.jsxs)(A,{children:["loading"===e.status&&Object(q.jsx)(V,{}),"show"===e.status&&Object(q.jsx)($,{note:e}),"write"===e.status&&Object(q.jsx)(X,{note:M}),"update"===e.status&&Object(q.jsx)(X,{note:e})]})})},tt=n(24),et=(n(46),n(47),function(){var t=Object(d.f)();return Object(q.jsx)(Y,{children:Object(q.jsx)(A,{children:Object(q.jsx)(tt.a,{className:"calendar",onClickDay:function(e){var n="/note/".concat(Q(e));t(n)}})})})}),nt=function(){return Object(q.jsx)(u.a,{children:Object(q.jsxs)(d.c,{children:[Object(q.jsx)(d.a,{path:"/",element:Object(q.jsx)(et,{})}),Object(q.jsx)(d.a,{path:"/note/:date",element:Object(q.jsx)(Z,{})})]})})},at=Object(f.a)({reducer:{note:W}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(48),n(49),n(50),n(51),n(52),n(53);o.a.render(Object(q.jsx)(c.a.StrictMode,{children:Object(q.jsxs)(s.a,{store:at,children:[Object(q.jsx)(i.a,{className:"toast"}),Object(q.jsx)(nt,{})]})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.1ecb6ffb.chunk.js.map